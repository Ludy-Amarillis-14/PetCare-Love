<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  <!-- Hace que la pÃ¡gina sea responsive para dispositivos mÃ³viles -->
  <title>ValoraciÃ³n - PetCare & LoveğŸ’•ğŸ¶ğŸ¾</title> 
  <link rel="stylesheet" href="valoracion.css"> 
</head>
<body>

 <!-- Cuerpo principal de la pÃ¡gina -->

  <!-- â­ BotÃ³n flotante con burbuja -->
  <div id="star-container">
    <!-- Contenedor del botÃ³n de estrella y su mensaje emergente -->

    <div id="star-tooltip" class="hidden">â­ Â¡Valora nuestra pÃ¡gina!</div>
    <!-- Mensaje emergente que aparece al pasar el cursor -->

    <div id="star-rating-btn" title="Valora esta pÃ¡gina">â­</div>
    <!-- BotÃ³n flotante de estrella que abre el modal -->
  </div>

  <!-- ğŸ’¬ Modal de valoraciÃ³n -->
  <div id="rating-modal">
    <!-- Contenedor del modal donde el usuario deja su valoraciÃ³n -->

    <div class="modal-content">
      <!-- Contenido del modal -->

      <span class="close" onclick="closeModal()">Ã—</span>
      <!-- BotÃ³n para cerrar el modal (X), ejecuta la funciÃ³n closeModal() -->

      <h3>Â¡Tu opiniÃ³n nos ayuda! ğŸ¶ğŸ’¬</h3>
      <!-- TÃ­tulo del modal -->

      <p>Â¿QuÃ© te pareciÃ³ esta pÃ¡gina?</p>
      <!-- Pregunta para el usuario -->

      <input type="text" id="visitor-name" placeholder="Tu nombre (obligatorio)">
      <!-- Campo de texto para el nombre del visitante -->

      <textarea id="visitor-comment" rows="4" placeholder="Deja tu opiniÃ³n (opcional)"></textarea>
      <!-- Ãrea de texto para comentarios opcionales -->

      <div id="rating-stars" onmouseleave="resetHover()">
        <!-- Contenedor de estrellas de puntuaciÃ³n; al salir del Ã¡rea se reinicia el efecto hover -->

        <span data-value="1" onmouseover="highlightStars(1)" onclick="setRating(1)">â˜…</span>
        <span data-value="2" onmouseover="highlightStars(2)" onclick="setRating(2)">â˜…</span>
        <span data-value="3" onmouseover="highlightStars(3)" onclick="setRating(3)">â˜…</span>
        <span data-value="4" onmouseover="highlightStars(4)" onclick="setRating(4)">â˜…</span>
        <span data-value="5" onmouseover="highlightStars(5)" onclick="setRating(5)">â˜…</span>
        <!-- Estrellas interactivas: al pasar el mouse se iluminan, al hacer clic se selecciona la puntuaciÃ³n -->
      </div>

      <button onclick="submitRating()">Enviar</button>
      <!-- BotÃ³n para enviar la valoraciÃ³n, llama a submitRating() -->

      <div id="rating-message"></div>
      <!-- Espacio para mostrar mensajes tras enviar la valoraciÃ³n -->

      <!-- ğŸ“ Historial dentro del modal -->
      <div id="rating-history-container" style="display: block;">
        <!-- Contenedor del historial de valoraciones -->

        <h4>Ãšltima valoraciÃ³n</h4>
        <!-- TÃ­tulo de la secciÃ³n de historial -->

        <ul id="latest-rating">
          <li>No hay valoraciones aÃºn.</li>
        </ul>
        <!-- Lista que mostrarÃ¡ la Ãºltima valoraciÃ³n enviada -->

        <button id="toggle-history">
          <!-- BotÃ³n para mostrar u ocultar el historial anterior -->

          <span id="toggle-text">Mostrar valoraciones anterioresâœ…</span>
          <!-- Texto que cambia segÃºn el estado del historial -->

          <span id="arrow-icon">â–¼</span>
          <!-- Icono de flecha que puede rotar al expandir/colapsar -->
        </button>        

        <div id="history-wrapper" style="display: none;">
          <ul id="history-list"></ul>
        </div>
        <!-- Lista que almacena todas las valoraciones anteriores -->
      </div>

    </div>
  </div>

  <!-- ğŸ“œ Script funcional -->
  <script src="valoracion/valoracion.js"></script>
  <!-- Se incluye el archivo JavaScript externo con la lÃ³gica del modal y valoraciÃ³n -->

</body>
</html>
